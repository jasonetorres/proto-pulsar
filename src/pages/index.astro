---
// import { getCollection } from '../utils/db-old';
import { connect } from 'http2';
import {getRecipes} from '../utils/db';
// import { connectToDatabase } from '../utils/db';
// connectToDatabase();
interface Recipe {
  _id: string;
  Title: string;
}[]

const recipes = await getRecipes();


// Function to handle search
// const searchRecipes = async (event: Event) => {
//     event.preventDefault();
//     const target = event.target as HTMLFormElement;
//     const searchTerm = (target.elements.namedItem('search') as HTMLInputElement).value;
//     recipes = await collection.find({ title: { $regex: searchTerm, $options: 'i' } });
// };
---

<html>
  <body>
    <div class="card">
      <h1>Search for Christmas Cookie Recipes</h1>
      <!-- <form onsubmit={searchRecipes}>
        <input type="text" name="search" placeholder="Enter recipe name..." required />
        <button type="submit">Search</button>
      </form> -->
      <div>
        {recipes.length > 0 ? (
          <ul>
            {recipes.map(recipe => (
              <li>{recipe.Title}</li> // Display recipe titles
            ))}
          </ul>
        ) : (
          <p>No recipes found.</p>
        )}
      </div>
    </div>
  </body>
</html>
